(function(){"use strict";var e={606:function(e,t,n){var r=n(963),o=n(252);function i(e,t,n,r,i,a){const c=(0,o.up)("HeaderTop"),s=(0,o.up)("MainLayout"),u=(0,o.up)("ErrorModal");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(c),(0,o.Wm)(s),e.isErrorFromServer?((0,o.wg)(),(0,o.j4)(u,{key:0,msg:i.errorMsg},null,8,["msg"])):(0,o.kq)("",!0)],64)}var a=n(907),c=n(577);const s={class:"modal-fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},u={class:"modal-dialog"},d=(0,o._)("button",{type:"button",class:"btn-close"},null,-1),l={class:"modal-content"};function g(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",u,[d,(0,o._)("div",l,[(0,o._)("h5",null,(0,c.zw)(n.msg),1)])])])}var v={name:"ErrorModal",props:["msg"]},h=n(744);const C=(0,h.Z)(v,[["render",g]]);var m=C;const p=e=>((0,o.dD)("data-v-39f60ddc"),e=e(),(0,o.Cn)(),e),f={class:"container"},y={class:"inner-wrap"},w=p((()=>(0,o._)("span",null,"Weather Task",-1))),L={class:"btns-wrap d-flex"};function b(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("header",null,[(0,o._)("div",f,[(0,o._)("div",y,[w,(0,o._)("div",L,[(0,o._)("button",{class:"btn btn-secondary btn-lg",onClick:t[0]||(t[0]=t=>e.changePanel("HomePage"))},"Home"),(0,o._)("button",{class:"btn btn-warning btn-lg",onClick:t[1]||(t[1]=t=>e.changePanel("FavoritesPage"))},"Favoriets")])])])])}var _={name:"HeaderTop",methods:{...(0,a.OI)(["changePanel"])}};const F=(0,h.Z)(_,[["render",b],["__scopeId","data-v-39f60ddc"]]);var k=F;const x={class:"hello"},D={class:"container"};function z(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("main",x,[(0,o._)("div",D,[((0,o.wg)(),(0,o.j4)((0,o.LL)(e.getPanel)))])])}const P={class:"search-box"},S={class:"input-group input-group-lg"},M={class:"autocomplete"},T={key:0,class:"list-group"},H=["onClick"],O={class:"ms-2 me-auto location-name"},j={class:"fw-bold"},A={class:"badge bg-primary rounded-pill"},N={class:"main-panel"},I={class:"d-md-flex justify-content-between align-items-center mb-5"},K={key:1,class:"badge rounded-pill bg-info text-dark ms-3"},W={class:"headlines text-center"},E={class:"forecast"},Z={class:"card text-center"},Y={class:"card-header"},$={class:"card-body"},q={class:"card-title"},U={class:"card-text"};function V(e,t,n,i,a,s){const u=(0,o.up)("CurrentCondition");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",P,[(0,o._)("div",S,[(0,o.wy)((0,o._)("input",{type:"text",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=e=>a.searchField=e),placeholder:"Search City",onInput:t[1]||(t[1]=e=>s.auto()),onFocusin:t[2]||(t[2]=e=>a.showSuggestionsList=!0)},null,544),[[r.nr,a.searchField]])]),(0,o.wy)((0,o._)("div",M,[a.searchField.length>1?((0,o.wg)(),(0,o.iD)("ul",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.suggestionsList,(t=>((0,o.wg)(),(0,o.iD)("li",{class:"list-group-item d-flex justify-content-between align-items-start",key:t.Key,onClick:n=>{e.fetchNewLocation(t.Key),e.fetchCurrentCondition(t.Key),e.changeCurrentConditionCity(t.LocalizedName),s.isFavorite(t.Key),a.showSuggestionsList=!1}},[(0,o._)("div",O,[(0,o._)("div",j,(0,c.zw)(t.LocalizedName),1),(0,o.Uk)(" "+(0,c.zw)(t.AdministrativeArea.LocalizedName),1)]),(0,o._)("span",A,(0,c.zw)(t.Country.LocalizedName),1)],8,H)))),128))])):(0,o.kq)("",!0)],512),[[r.F8,a.showSuggestionsList]])]),(0,o._)("div",N,[(0,o._)("div",I,[e.getCurrentCondition?((0,o.wg)(),(0,o.j4)(u,{key:0,"city-name":e.getCurrentConditionCity,value:e.getCurrentCondition.Temperature.Metric.Value,unit:e.getCurrentCondition.Temperature.Metric.Unit},null,8,["city-name","value","unit"])):(0,o.kq)("",!0),(0,o._)("button",{type:"button",class:"btn btn-success ms-auto",onClick:t[3]||(t[3]=t=>e.addFavorite({id:e.getCurrentLocationCode,city:e.getCurrentConditionCity,temp:e.getCurrentCondition.Temperature.Metric.Value,unit:e.getCurrentCondition.Temperature.Metric.Unit,status:e.getCurrentCondition.WeatherText}))}," Add this Location to Favorites "),a.isCurrentFavorite?((0,o.wg)(),(0,o.iD)("span",K,"Favorite")):(0,o.kq)("",!0)]),(0,o._)("div",W,[(0,o._)("h1",null,(0,c.zw)(e.getCurrentCondition.WeatherText),1),(0,o._)("h2",null,"This week: "+(0,c.zw)(e.getCurrentLocationDetails.Text),1)]),(0,o._)("ul",E,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.getCurrentLocation,(t=>((0,o.wg)(),(0,o.iD)("li",{key:t.Date},[(0,o._)("div",Z,[(0,o._)("div",Y,(0,c.zw)(e.dater(t.Date)),1),(0,o._)("div",$,[(0,o._)("h5",q,(0,c.zw)(t.Day.IconPhrase),1),(0,o._)("p",U,(0,c.zw)(t.Temperature.Minimum.Value)+" - "+(0,c.zw)(t.Temperature.Maximum.Value)+" "+(0,c.zw)(t.Temperature.Maximum.Unit),1)])])])))),128))])])],64)}var J=n(669),R=n.n(J),B={methods:{dater(e){const t=e.split("T");return t[0]}}};const G={class:"current-condition"},Q={class:"current-city"},X={class:"city-temperature"};function ee(e,t,n,r,i,a){return(0,o.wg)(),(0,o.iD)("div",G,[(0,o._)("h3",Q,(0,c.zw)(n.cityName),1),(0,o._)("span",X,(0,c.zw)(n.value)+" "+(0,c.zw)(n.unit),1)])}var te={name:"CurrentCondition",props:["cityName","value","unit"]};const ne=(0,h.Z)(te,[["render",ee],["__scopeId","data-v-f29bb320"]]);var re=ne,oe={name:"HomePage",mixins:[B],components:{CurrentCondition:re},data(){return{searchField:"",suggestionsList:[],showSuggestionsList:!1,isCurrentFavorite:!1}},computed:{...(0,a.Se)(["getApiKey","getCurrentLocationCode","getCurrentLocation","getCurrentLocationDetails","getCurrentCondition","getCurrentConditionCity","getFavorites"])},methods:{...(0,a.OI)(["changeCurrentConditionCity","addFavorite"]),...(0,a.nv)(["fetchNewLocation","fetchCurrentCondition"]),auto(){R().get(`https://cors-anywhere.herokuapp.com/http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=${this.getApiKey}&q=${this.searchField}`).then((e=>{const t=e.data.sort();this.suggestionsList=t})).catch((e=>{console.log("err: ",e)}))},isFavorite(e){const t=this.getFavorites.findIndex((t=>t.id===e));this.isCurrentFavorite=-1!==t}},created(){this.fetchNewLocation(this.getCurrentLocationCode),this.fetchCurrentCondition(this.getCurrentLocationCode),this.isFavorite(this.getCurrentLocationCode)}};const ie=(0,h.Z)(oe,[["render",V],["__scopeId","data-v-d182d00a"]]);var ae=ie;const ce={class:"favorites"},se={class:"container"},ue={class:"forecast d-md-flex justify-content-center flex-wrap"},de={class:"card-body text-center"},le=["onClick"],ge={class:"card-text text-center"},ve=["onClick"];function he(e,t,n,i,a,s){return(0,o.wg)(),(0,o.iD)("div",ce,[(0,o._)("div",se,[(0,o._)("div",ue,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.getFavorites,(t=>((0,o.wg)(),(0,o.iD)("div",{class:"card",key:t.id},[(0,o._)("div",de,[(0,o._)("a",{onClick:(0,r.iM)((n=>{e.fetchNewLocation(t.id),e.fetchCurrentCondition(t.id),e.changeCurrentConditionCity(t.city),e.changePanel("HomePage")}),["prevent"]),class:"link-info"},(0,c.zw)(t.city)+" - "+(0,c.zw)(t.temp)+(0,c.zw)(t.unit),9,le),(0,o._)("p",ge,(0,c.zw)(t.status),1)]),(0,o._)("button",{type:"button",class:"btn btn-danger",onClick:n=>e.removeFavorite(t.id)}," Remove from Favorites ",8,ve)])))),128))])])])}var Ce={name:"FavoritesPage",computed:{...(0,a.Se)(["getFavorites"])},methods:{...(0,a.OI)(["changeCurrentConditionCity","changePanel","removeFavorite"]),...(0,a.nv)(["fetchNewLocation","fetchCurrentCondition"])}};const me=(0,h.Z)(Ce,[["render",he],["__scopeId","data-v-e983157a"]]);var pe=me,fe={components:{FavoritesPage:pe,HomePage:ae},name:"MainLayout",data(){return{}},computed:{...(0,a.Se)(["getPanel"])}};const ye=(0,h.Z)(fe,[["render",z]]);var we=ye,Le={name:"App",data(){return{errorMsg:"We having some trouble fetching data, please try later"}},components:{MainLayout:we,HeaderTop:k,ErrorModal:m},computed:{...(0,a.Se)(["isErrorFromServer"])}};const be=(0,h.Z)(Le,[["render",i]]);var _e=be,Fe=(0,a.MT)({state:{panel:"HomePage",accuWeatherApi:"JbvjPdWanpm8NEKm6OD9YwkAZxSvvLkD",currentLocationCode:215854,currentLocation:"",currentLocationDetails:"",currentCondition:"",currentConditionCity:"Tel Aviv",errorFromServer:!1,favoriteLocations:[]},getters:{getPanel(e){return e.panel},getApiKey(e){return e.accuWeatherApi},getCurrentLocationCode(e){return e.currentLocationCode},getCurrentLocation(e){return e.currentLocation},getCurrentLocationDetails(e){return e.currentLocationDetails},getCurrentCondition(e){return e.currentCondition},getCurrentConditionCity(e){return e.currentConditionCity},getFavorites(e){return e.favoriteLocations},isErrorFromServer(e){return e.errorFromServer}},mutations:{changePanel(e,t){e.panel=t},changeLocationCode(e,t){e.currentLocationCode=t},changeLocation(e,t){e.currentLocation=t},changeLocationDetails(e,t){e.currentLocationDetails=t},changeCurrentCondition(e,t){e.currentCondition=t},changeCurrentConditionCity(e,t){e.currentConditionCity=t},addFavorite(e,t){const n=e.favoriteLocations.findIndex((e=>e.id===t.id));-1===n&&(e.favoriteLocations=[...e.favoriteLocations,t])},removeFavorite(e,t){const n=e.favoriteLocations.filter((e=>e.id!==t));e.favoriteLocations=n}},actions:{async fetchCurrentCondition({commit:e,state:t},n){try{const r=await R().get(`https://cors-anywhere.herokuapp.com/http://dataservice.accuweather.com/currentconditions/v1/${n}?apikey=${t.accuWeatherApi}`);e("changeCurrentCondition",r.data[0]),t.errorFromServer&&(t.errorFromServer=!1)}catch(r){console.error(r),t.errorFromServer=!0}},async fetchNewLocation({commit:e,state:t},n){e("changeLocationCode",n);try{const r=await R().get(`https://cors-anywhere.herokuapp.com/http://dataservice.accuweather.com/forecasts/v1/daily/5day/${n}?apikey=${t.accuWeatherApi}`);e("changeLocation",r.data.DailyForecasts),e("changeLocationDetails",r.data.Headline),t.errorFromServer&&(t.errorFromServer=!1)}catch(r){console.error(r),t.errorFromServer=!0}}}});(0,r.ri)(_e).use(Fe).mount("#app")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,i){if(!r){var a=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],i=e[d][2];for(var c=!0,s=0;s<r.length;s++)(!1&i||a>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(c=!1,i<a&&(a=i));if(c){e.splice(d--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,a=r[0],c=r[1],s=r[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var d=s(n)}for(t&&t(r);u<a.length;u++)i=a[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self["webpackChunkherolo"]=self["webpackChunkherolo"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(606)}));r=n.O(r)})();
//# sourceMappingURL=app.c025f48e.js.map